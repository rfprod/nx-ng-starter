<h3>
  Chatbot <button mat-icon-button (click)="resetBot()"><mat-icon>refresh</mat-icon></button>
</h3>

<cdk-virtual-scroll-viewport itemSize="20" class="messages-list" appAutoscroll>
  <div
    class="message"
    *cdkVirtualFor="let message of messages$ | async"
    [ngClass]="{ 'message--bot': message.bot, 'message--user': !message.bot }"
  >
    {{ message.text || 'Loading...' }}
  </div>
</cdk-virtual-scroll-viewport>

<form [formGroup]="form" (ngSubmit)="userMessage()">
  <mat-form-field class="form">
    <mat-label>Your message</mat-label>

    <textarea type="text" matInput formControlName="message"></textarea>

    <button matSuffix mat-icon-button type="submit" aria-label="Sibmit">
      <mat-icon>check</mat-icon>
    </button>
  </mat-form-field>

  <span class="mat-caption">Hit <strong>Ctrl + Enter</strong> to submit your message.</span>
</form>

<ng-container *ngIf="respond$ | async"></ng-container>
